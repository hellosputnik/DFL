<!doctype html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Food Log Dashboard - 2026-02-25</title>
    <style>
      :root {
        --primary: #2563eb;
        --bg: #f8fafc;
        --card: #ffffff;
        --text: #1e293b;
        --success: #10b981;
        --warning: #f59e0b;
        --danger: #ef4444;
        --muted: #64748b;
        --border: #e2e8f0;
      }
      body.dark-mode {
        --bg: #0f172a;
        --card: #1e293b;
        --text: #f8fafc;
        --muted: #94a3b8;
        --border: #334155;
      }
      body {
        font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, sans-serif;
        background: var(--bg);
        color: var(--text);
        line-height: 1.5;
        margin: 0;
        padding: 2rem;
        transition:
          background 0.3s,
          color 0.3s;
      }
      .container {
        max-width: 1000px;
        margin: 0 auto;
      }
      header {
        margin-bottom: 2rem;
        display: flex;
        justify-content: space-between;
        align-items: center;
      }
      h1,
      h2 {
        color: var(--text);
        margin: 0;
      }
      h2 {
        margin-top: 2rem;
        margin-bottom: 1rem;
      }
      .nav-link {
        color: var(--primary);
        text-decoration: none;
        font-weight: 600;
        font-size: 0.875rem;
      }
      .nav-link:hover {
        text-decoration: underline;
      }

      .theme-toggle {
        background: none;
        border: 1px solid var(--border);
        padding: 0.5rem;
        border-radius: 8px;
        cursor: pointer;
        color: var(--muted);
        display: flex;
        align-items: center;
        justify-content: center;
        transition: all 0.2s;
      }
      .theme-toggle:hover {
        background: var(--border);
        color: var(--primary);
      }
      .theme-toggle svg {
        width: 18px;
        height: 18px;
      }
      .sun-icon {
        display: none;
      }
      .dark-mode .sun-icon {
        display: block;
      }
      .dark-mode .moon-icon {
        display: none;
      }

      table {
        width: 100%;
        border-collapse: collapse;
        background: var(--card);
        border-radius: 12px;
        overflow: hidden;
        box-shadow: 0 1px 3px rgba(0, 0, 0, 0.1);
        transition: background 0.3s;
        border: 1px solid var(--border);
      }
      th,
      td {
        padding: 1rem;
        text-align: left;
        border-bottom: 1px solid var(--border);
      }
      th {
        background: #f1f5f9;
        font-weight: 600;
        font-size: 0.875rem;
        color: #475569;
      }
      body.dark-mode th {
        background: #1e293b;
        color: #cbd5e1;
        border-bottom: 2px solid var(--primary);
      }
      .text-center {
        text-align: center;
      }
      .badge {
        display: inline-block;
        padding: 0.25rem 0.5rem;
        border-radius: 4px;
        font-size: 0.75rem;
        font-weight: 600;
        background: #f1f5f9;
        color: #475569;
      }
      body.dark-mode .badge {
        background: var(--bg);
        color: var(--muted);
      }
      .tag-modified {
        display: inline-block;
        padding: 0.15rem 0.4rem;
        border-radius: 4px;
        font-size: 0.65rem;
        font-weight: 700;
        text-transform: uppercase;
        background: #f0f9ff;
        color: #0369a1;
        margin-left: 0.5rem;
        vertical-align: middle;
        border: 1px solid #e0f2fe;
      }
      .dark-mode .tag-modified {
        background: #0c4a6e;
        color: #7dd3fc;
        border-color: #0ea5e9;
      }
    </style>
    <script>
      if (localStorage.getItem("theme") === "dark") {
        document.documentElement.classList.add("dark-mode");
        document.addEventListener("DOMContentLoaded", () => {
          document.body.classList.add("dark-mode");
        });
      }
      function toggleTheme() {
        const isDark = document.body.classList.toggle("dark-mode");
        document.documentElement.classList.toggle("dark-mode", isDark);
        localStorage.setItem("theme", isDark ? "dark" : "light");
      }
    </script>

    <style>
      .grid {
        display: grid;
        grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
        gap: 1.5rem;
        margin-bottom: 2rem;
      }
      .card {
        background: var(--card);
        padding: 1.25rem;
        border-radius: 12px;
        box-shadow: 0 1px 3px rgba(0, 0, 0, 0.1);
        display: flex;
        flex-direction: column;
        gap: 0.1rem;
        transition: background 0.3s;
      }
      .stat-label {
        font-size: 0.7rem;
        color: var(--muted);
        text-transform: uppercase;
        letter-spacing: 0.05em;
        font-weight: 700;
        display: flex;
        justify-content: space-between;
        align-items: center;
        margin-bottom: 0.2rem;
      }
      .stat-val {
        font-size: 1.75rem;
        font-weight: 800;
        color: var(--text);
        line-height: 1.1;
      }
      .goal-display-container {
        color: var(--muted);
        font-weight: 700;
        font-size: 1.1rem;
        display: flex;
        align-items: center;
        margin: 0.4rem 0;
        min-height: 1.5rem;
      }
      .progress-bg {
        background: var(--border);
        height: 6px;
        border-radius: 3px;
        overflow: hidden;
        margin-top: 0.2rem;
      }
      .progress-fill {
        background: var(--primary);
        height: 100%;
        transition:
          width 0.3s ease,
          background 0.3s ease;
      }
      .tooltip {
        visibility: hidden;
        width: 130px;
        background-color: #1e293b;
        color: #fff;
        text-align: left;
        border-radius: 6px;
        padding: 8px 10px;
        position: absolute;
        z-index: 10;
        bottom: 140%;
        right: 0;
        opacity: 0;
        transition: opacity 0.2s;
        font-size: 0.7rem;
        text-transform: none;
        box-shadow: 0 10px 15px -3px rgba(0, 0, 0, 0.1);
        pointer-events: none;
      }
      .info-icon:hover .tooltip {
        visibility: visible;
        opacity: 1;
      }
      input[type="number"]::-webkit-inner-spin-button {
        -webkit-appearance: none;
        margin: 0;
      }
      .editable-goal {
        border: 1px solid transparent;
        background: transparent;
        color: inherit;
        font: inherit;
        width: 100%;
        padding: 0;
        margin: 0;
        text-align: left;
        cursor: pointer;
      }
      .editable-goal:hover {
        color: var(--primary);
      }
      .editable-goal:focus {
        border-bottom: 1px solid var(--primary);
        outline: none;
        cursor: text;
        color: var(--text);
      }
      tr.selected {
        background: #bfdbfe !important;
      }
      body.dark-mode tr.selected {
        background: #1e40af !important;
      }
    </style>
  </head>
  <body>
    <div class="container">
      <header>
        <div>
          <h1>Daily Food Log</h1>
          <p style="color: var(--muted); margin-top: 0.25rem; font-weight: 500">2026-02-25</p>
        </div>
        <div style="display: flex; gap: 1rem; align-items: center">
          <a href="history.html" class="nav-link" style="color: var(--muted)">View History</a>
          <a href="food_database.html" class="nav-link">View Food Database â†’</a>

          <button onclick="toggleTheme()" class="theme-toggle" title="Toggle Dark Mode">
            <svg
              class="moon-icon"
              xmlns="http://www.w3.org/2000/svg"
              fill="none"
              viewBox="0 0 24 24"
              stroke="currentColor"
            >
              <path
                stroke-linecap="round"
                stroke-linejoin="round"
                stroke-width="2"
                d="M20.354 15.354A9 9 0 018.646 3.646 9.003 9.003 0 0012 21a9.003 9.003 0 008.354-5.646z"
              />
            </svg>
            <svg
              class="sun-icon"
              xmlns="http://www.w3.org/2000/svg"
              fill="none"
              viewBox="0 0 24 24"
              stroke="currentColor"
            >
              <path
                stroke-linecap="round"
                stroke-linejoin="round"
                stroke-width="2"
                d="M12 3v1m0 16v1m9-9h-1M4 12H3m15.364-6.364l-.707.707M6.343 17.657l-.707.707m12.728 0l-.707-.707M6.343 6.343l-.707-.707M12 8a4 4 0 100 8 4 4 0 000-8z"
              />
            </svg>
          </button>
        </div>
      </header>

      <div class="grid">
        <div class="card" id="card-calories">
          <div class="stat-label">
            Calories
            <div
              class="info-icon"
              style="cursor: help; position: relative; display: inline-flex; align-items: center"
            >
              <svg
                xmlns="http://www.w3.org/2000/svg"
                width="14"
                height="14"
                viewBox="0 0 24 24"
                fill="none"
                stroke="currentColor"
                stroke-width="2.5"
                stroke-linecap="round"
                stroke-linejoin="round"
              >
                <circle cx="12" cy="12" r="10"></circle>
                <line x1="12" y1="16" x2="12" y2="12"></line>
                <line x1="12" y1="8" x2="12.01" y2="8"></line>
              </svg>
              <div class="tooltip" id="calories-tooltip">
                <div style="display: flex; justify-content: space-between; margin-bottom: 4px">
                  <span>Phase</span> <b style="text-transform: capitalize">cut</b>
                </div>
                <div style="display: flex; justify-content: space-between">
                  <span>Goal</span> <b>1800</b>
                </div>
                <div style="display: flex; justify-content: space-between">
                  <span>Maintenance</span> <b>2300</b>
                </div>
              </div>
            </div>
          </div>
          <div class="stat-val"><span class="current">1620</span></div>
          <div class="goal-display-container">
            <input
              type="number"
              class="editable-goal"
              id="goal-calories-input"
              data-mode="cut"
              value="1800"
              placeholder="N/A"
              oninput="updateProjection()"
            />
          </div>
          <div class="progress-bg"><div class="progress-fill" style="width: 90%"></div></div>
        </div>
        <div class="card" id="card-protein">
          <div class="stat-label">Protein</div>
          <div class="stat-val"><span class="current">190g</span></div>
          <div class="goal-display-container">
            <input
              type="number"
              class="editable-goal"
              id="goal-protein-input"
              value="180"
              placeholder="N/A"
              oninput="updateProjection()"
            />
          </div>
          <div class="progress-bg"><div class="progress-fill" style="width: 100%"></div></div>
        </div>
        <div class="card" id="card-carbohydrate">
          <div class="stat-label">Carbohydrate</div>
          <div class="stat-val"><span class="current">36g</span></div>
          <div class="goal-display-container">
            <input
              type="number"
              class="editable-goal"
              id="goal-carbohydrate-input"
              value=""
              placeholder="N/A"
              oninput="updateProjection()"
            />
          </div>
          <div class="progress-bg"><div class="progress-fill" style="width: 0%"></div></div>
        </div>
        <div class="card" id="card-fat">
          <div class="stat-label">Fat</div>
          <div class="stat-val"><span class="current">78g</span></div>
          <div class="goal-display-container">
            <input
              type="number"
              class="editable-goal"
              id="goal-fat-input"
              value=""
              placeholder="N/A"
              oninput="updateProjection()"
            />
          </div>
          <div class="progress-bg"><div class="progress-fill" style="width: 0%"></div></div>
        </div>
      </div>

      <section>
        <h2>Today's Log</h2>
        <table id="log-table">
          <thead>
            <tr>
              <th class="text-center">Brand</th>
              <th>Product</th>
              <th class="text-center">Calories</th>
              <th class="text-center">Protein</th>
              <th class="text-center">Carbohydrate</th>
              <th class="text-center">Fat</th>
            </tr>
          </thead>
          <tbody>
            <tr>
              <td class="text-center"><span class="badge">CookUnity</span></td>
              <td><span style="font-weight: 500">Grilled Adobo Salmon</span></td>
              <td class="text-center">660</td>
              <td class="text-center">68g</td>
              <td class="text-center">10g</td>
              <td class="text-center">38g</td>
            </tr>
            <tr>
              <td class="text-center"><span class="badge">Fairlife</span></td>
              <td><span style="font-weight: 500">Core Power Elite (Vanilla)</span></td>
              <td class="text-center">230</td>
              <td class="text-center">42g</td>
              <td class="text-center">8g</td>
              <td class="text-center">3.5g</td>
            </tr>
            <tr>
              <td class="text-center"><span class="badge">CookUnity</span></td>
              <td><span style="font-weight: 500">Sticky Gochujang-Harissa Chicken</span></td>
              <td class="text-center">500</td>
              <td class="text-center">38g</td>
              <td class="text-center">10g</td>
              <td class="text-center">33g</td>
            </tr>
            <tr>
              <td class="text-center"><span class="badge">Fairlife</span></td>
              <td><span style="font-weight: 500">Core Power Elite (Vanilla)</span></td>
              <td class="text-center">230</td>
              <td class="text-center">42g</td>
              <td class="text-center">8g</td>
              <td class="text-center">3.5g</td>
            </tr>
          </tbody>
        </table>
      </section>
      <section style="margin-top: 2rem">
        <h2>Current Inventory</h2>
        <table id="inventory-table">
          <thead>
            <tr>
              <th class="text-center">Brand</th>
              <th>Product</th>
              <th class="text-center">Qty</th>
              <th class="text-center">Calories</th>
              <th class="text-center">Macros (P / C / F)</th>
            </tr>
          </thead>
          <tbody>
            <tr
              class="inventory-row"
              data-calories="930"
              data-protein="71"
              data-carbohydrate="59"
              data-fat="44"
              onclick="toggleProjection(this)"
              style="cursor: pointer"
            >
              <td class="text-center"><span class="badge">CookUnity</span></td>
              <td style="font-weight: 500">Smoked Brisket Burrito Bowl</td>
              <td class="text-center">1</td>
              <td class="text-center">930</td>
              <td class="text-center">71g / 59g / 44g</td>
            </tr>
            <tr
              class="inventory-row"
              data-calories="830"
              data-protein="61"
              data-carbohydrate="37"
              data-fat="49"
              onclick="toggleProjection(this)"
              style="cursor: pointer"
            >
              <td class="text-center"><span class="badge">CookUnity</span></td>
              <td style="font-weight: 500">Herb & Garlic Roasted Surf & Turf</td>
              <td class="text-center">1</td>
              <td class="text-center">830</td>
              <td class="text-center">61g / 37g / 49g</td>
            </tr>
            <tr
              class="inventory-row"
              data-calories="670"
              data-protein="53"
              data-carbohydrate="23"
              data-fat="40"
              onclick="toggleProjection(this)"
              style="cursor: pointer"
            >
              <td class="text-center"><span class="badge">CookUnity</span></td>
              <td style="font-weight: 500">Lemon Herb Chicken</td>
              <td class="text-center">1</td>
              <td class="text-center">670</td>
              <td class="text-center">53g / 23g / 40g</td>
            </tr>
            <tr
              class="inventory-row"
              data-calories="600"
              data-protein="52"
              data-carbohydrate="43"
              data-fat="26"
              onclick="toggleProjection(this)"
              style="cursor: pointer"
            >
              <td class="text-center"><span class="badge">CookUnity</span></td>
              <td style="font-weight: 500">
                Adobo Flat Iron Steak with Za'atar Rainbow Fingerling Potatoes
              </td>
              <td class="text-center">1</td>
              <td class="text-center">600</td>
              <td class="text-center">52g / 43g / 26g</td>
            </tr>
            <tr
              class="inventory-row"
              data-calories="700"
              data-protein="51"
              data-carbohydrate="68"
              data-fat="23"
              onclick="toggleProjection(this)"
              style="cursor: pointer"
            >
              <td class="text-center"><span class="badge">CookUnity</span></td>
              <td style="font-weight: 500">Parisian Chicken Kebab</td>
              <td class="text-center">1</td>
              <td class="text-center">700</td>
              <td class="text-center">51g / 68g / 23g</td>
            </tr>
            <tr
              class="inventory-row"
              data-calories="880"
              data-protein="47"
              data-carbohydrate="46"
              data-fat="54"
              onclick="toggleProjection(this)"
              style="cursor: pointer"
            >
              <td class="text-center"><span class="badge">CookUnity</span></td>
              <td style="font-weight: 500">Filet Mignon & Red Wine Reduction</td>
              <td class="text-center">1</td>
              <td class="text-center">880</td>
              <td class="text-center">47g / 46g / 54g</td>
            </tr>
            <tr
              class="inventory-row"
              data-calories="580"
              data-protein="45"
              data-carbohydrate="58"
              data-fat="19"
              onclick="toggleProjection(this)"
              style="cursor: pointer"
            >
              <td class="text-center"><span class="badge">CookUnity</span></td>
              <td style="font-weight: 500">Mexican Chicken and Rice Bowl</td>
              <td class="text-center">1</td>
              <td class="text-center">580</td>
              <td class="text-center">45g / 58g / 19g</td>
            </tr>
            <tr
              class="inventory-row"
              data-calories="230"
              data-protein="42"
              data-carbohydrate="8"
              data-fat="3.5"
              onclick="toggleProjection(this)"
              style="cursor: pointer"
            >
              <td class="text-center"><span class="badge">Fairlife</span></td>
              <td style="font-weight: 500">Core Power Elite (Vanilla)</td>
              <td class="text-center">9</td>
              <td class="text-center">230</td>
              <td class="text-center">42g / 8g / 3.5g</td>
            </tr>
            <tr
              class="inventory-row"
              data-calories="440"
              data-protein="40"
              data-carbohydrate="3"
              data-fat="31"
              onclick="toggleProjection(this)"
              style="cursor: pointer"
            >
              <td class="text-center"><span class="badge">CookUnity</span></td>
              <td style="font-weight: 500">Herbed Grilled Skirt Steak with Chimichurri</td>
              <td class="text-center">1</td>
              <td class="text-center">440</td>
              <td class="text-center">40g / 3g / 31g</td>
            </tr>
            <tr
              class="inventory-row"
              data-calories="500"
              data-protein="31"
              data-carbohydrate="51"
              data-fat="20"
              onclick="toggleProjection(this)"
              style="cursor: pointer"
            >
              <td class="text-center"><span class="badge">CookUnity</span></td>
              <td style="font-weight: 500">BBQ Shrimp Boil</td>
              <td class="text-center">1</td>
              <td class="text-center">500</td>
              <td class="text-center">31g / 51g / 20g</td>
            </tr>
          </tbody>
        </table>
      </section>
    </div>

    <script>
      const currentTotals = { calories: 1620, protein: 190, carbohydrate: 36, fat: 78 };
      const maintenanceCalories = 2300;

      function toggleProjection(row) {
        row.classList.toggle("selected");
        updateProjection();
      }

      function updateProjection() {
        const goals = {
          target: parseFloat(document.getElementById("goal-calories-input").value) || 0,
          protein: parseFloat(document.getElementById("goal-protein-input").value) || 0,
          carbohydrate: parseFloat(document.getElementById("goal-carbohydrate-input").value) || 0,
          fat: parseFloat(document.getElementById("goal-fat-input").value) || 0,
        };
        let projectedCalories = 0,
          projectedProtein = 0,
          projectedCarbohydrate = 0,
          projectedFat = 0;
        document.querySelectorAll(".inventory-row.selected").forEach((row) => {
          projectedCalories += parseFloat(row.dataset.calories);
          projectedProtein += parseFloat(row.dataset.protein);
          projectedCarbohydrate += parseFloat(row.dataset.carbohydrate);
          projectedFat += parseFloat(row.dataset.fat);
        });
        updateCardCalories(
          currentTotals.calories + projectedCalories,
          projectedCalories,
          goals.target,
          maintenanceCalories,
        );
        updateCardMacro(
          "protein",
          currentTotals.protein + projectedProtein,
          projectedProtein,
          goals.protein,
          "g",
          false,
        );
        updateCardMacro(
          "carbohydrate",
          currentTotals.carbohydrate + projectedCarbohydrate,
          projectedCarbohydrate,
          goals.carbohydrate,
          "g",
          true,
        );
        updateCardMacro(
          "fat",
          currentTotals.fat + projectedFat,
          projectedFat,
          goals.fat,
          "g",
          true,
        );
      }

      function updateCardCalories(total, projected, target, maintenance) {
        const card = document.getElementById("card-calories");
        const span = card.querySelector(".current");
        const fill = card.querySelector(".progress-fill");
        const mode = document.getElementById("goal-calories-input").dataset.mode;

        span.textContent = total;
        let color = "";

        if (mode === "bulk") {
          if (total < maintenance) color = "var(--danger)";
          else if (total < target) color = "var(--warning)";
          else if (projected > 0) color = "var(--primary)";
        } else {
          if (total > maintenance) color = "var(--danger)";
          else if (total > target) color = "var(--warning)";
          else if (projected > 0) color = "var(--primary)";
        }

        span.style.color = color;
        fill.style.background = color || "var(--primary)";
        fill.style.width =
          target > 0 ? Math.min(100, Math.round((total / target) * 100)) + "%" : "0%";
      }

      function updateCardMacro(id, total, projected, goal, unit, strict) {
        const card = document.getElementById("card-" + id);
        const span = card.querySelector(".current");
        const fill = card.querySelector(".progress-fill");
        span.textContent = total + unit;
        let color = "";
        if (goal > 0 && strict && total > goal) color = "var(--danger)";
        else if (projected > 0) color = "var(--primary)";
        span.style.color = color;
        fill.style.background = color || "var(--primary)";
        fill.style.width = goal > 0 ? Math.min(100, Math.round((total / goal) * 100)) + "%" : "0%";
      }
      updateProjection();
    </script>
  </body>
</html>
